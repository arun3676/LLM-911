[
  {
    "event_id": "e3f08a9c5fd141f69cd6c90b0bbabcd1",
    "timestamp": "2025-11-14T04:51:22.345Z",
    "platform": "python",
    "environment": "production",
    "release": "llm-911-backend@1.3.7",
    "server_name": "api-llm-1",
    "level": "error",
    "logger": "llm_911.app",
    "transaction": "POST /v1/llm/invoke",
    "fingerprint": [
      "llm-timeout",
      "{{ default }}"
    ],
    "tags": {
      "service": "llm-911-api",
      "runtime": "python3.11",
      "framework": "fastapi",
      "llm_provider": "anthropic",
      "incident_type": "timeout",
      "region": "us-west-2"
    },
    "user": {
      "id": "cust_10293",
      "email": "sre@example-customer.com",
      "ip_address": "203.0.113.24"
    },
    "request": {
      "url": "https://api.example.com/v1/llm/invoke",
      "method": "POST",
      "headers": {
        "host": "api.example.com",
        "content-type": "application/json",
        "x-request-id": "req-timeout-001"
      },
      "data": "{\"prompt\":\"Summarize all P1 incidents in the last 24 hours\",\"max_tokens\":512}",
      "query_string": ""
    },
    "exception": {
      "values": [
        {
          "type": "ReadTimeout",
          "value": "Request to Anthropic timed out after 30.0 seconds",
          "mechanism": {
            "type": "python",
            "handled": false
          },
          "stacktrace": {
            "frames": [
              {
                "filename": "llm_investigator.py",
                "function": "call_llm",
                "lineno": 87,
                "in_app": true
              },
              {
                "filename": "site-packages/httpx/_client.py",
                "function": "send",
                "lineno": 1912,
                "in_app": false
              }
            ]
          }
        }
      ]
    },
    "breadcrumbs": {
      "values": [
        {
          "timestamp": "2025-11-14T04:50:52.120Z",
          "type": "info",
          "category": "llm",
          "message": "LLM call started",
          "data": {
            "provider": "anthropic",
            "model": "claude-3-5-sonnet",
            "timeout": 30.0
          },
          "level": "info"
        },
        {
          "timestamp": "2025-11-14T04:51:22.200Z",
          "type": "error",
          "category": "llm",
          "message": "LLM call failed: timeout",
          "data": {
            "elapsed_ms": 30080
          },
          "level": "error"
        }
      ]
    },
    "contexts": {
      "trace": {
        "trace_id": "4f3a6c84581b4c8b9fd93d2f9e12a7c3",
        "span_id": "a9c4b1d28f634f7c",
        "op": "http.client",
        "status": "deadline_exceeded"
      },
      "runtime": {
        "name": "CPython",
        "version": "3.11.8"
      },
      "llm": {
        "provider": "anthropic",
        "model": "claude-3-5-sonnet",
        "temperature": 0.2,
        "max_tokens": 512
      }
    },
    "extra": {
      "timeout_seconds": 30.0,
      "retry_count": 1,
      "upstream_url": "https://api.anthropic.com/v1/messages",
      "request_body_char_count": 104
    }
  },
  {
    "event_id": "f0a72a11c1b947a48caca0a69a8edf32",
    "timestamp": "2025-11-14T05:03:11.918Z",
    "platform": "python",
    "environment": "production",
    "release": "llm-911-backend@1.3.7",
    "server_name": "api-llm-2",
    "level": "warning",
    "logger": "llm_911.performance",
    "transaction": "POST /v1/llm/invoke",
    "message": "LLM response latency above SLA (12.4s > 5.0s)",
    "fingerprint": [
      "llm-slow-response",
      "{{ default }}"
    ],
    "tags": {
      "service": "llm-911-api",
      "runtime": "python3.11",
      "framework": "fastapi",
      "llm_provider": "anthropic",
      "incident_type": "slow_llm_response",
      "region": "us-west-2"
    },
    "user": {
      "id": "cust_84510",
      "email": "app-engineer@example-customer.com",
      "ip_address": "198.51.100.57"
    },
    "request": {
      "url": "https://api.example.com/v1/llm/invoke",
      "method": "POST",
      "headers": {
        "host": "api.example.com",
        "content-type": "application/json",
        "x-request-id": "req-slow-003"
      },
      "data": "{\"prompt\":\"Generate an RCA for incident INC-4321\",\"max_tokens\":1024}",
      "query_string": ""
    },
    "breadcrumbs": {
      "values": [
        {
          "timestamp": "2025-11-14T05:03:00.421Z",
          "type": "info",
          "category": "llm",
          "message": "LLM call started",
          "data": {
            "provider": "anthropic",
            "model": "claude-3-5-sonnet"
          },
          "level": "info"
        },
        {
          "timestamp": "2025-11-14T05:03:12.001Z",
          "type": "info",
          "category": "llm",
          "message": "LLM response received",
          "data": {
            "latency_ms": 12420
          },
          "level": "info"
        }
      ]
    },
    "contexts": {
      "trace": {
        "trace_id": "9a1337662c7b44eeb3e3a2fcd2f6a7f9",
        "span_id": "7fb4e229c1e946c3",
        "op": "http.client",
        "status": "ok"
      },
      "runtime": {
        "name": "CPython",
        "version": "3.11.8"
      },
      "llm": {
        "provider": "anthropic",
        "model": "claude-3-5-sonnet",
        "temperature": 0.3,
        "max_tokens": 1024
      }
    },
    "measurements": {
      "llm_latency_ms": {
        "value": 12420,
        "unit": "millisecond"
      }
    },
    "extra": {
      "sla_ms": 5000,
      "queue_delay_ms": 230,
      "retries": 0,
      "prompt_tokens": 410,
      "completion_tokens": 620
    }
  },
  {
    "event_id": "ab91b5f1bc2e4d8c8fd3f8c4ea0019af",
    "timestamp": "2025-11-14T05:15:47.210Z",
    "platform": "python",
    "environment": "production",
    "release": "llm-911-backend@1.3.7",
    "server_name": "api-llm-1",
    "level": "error",
    "logger": "llm_911.guardrails",
    "transaction": "POST /v1/llm/invoke",
    "message": "Detected hallucination in LLM answer (score=0.92)",
    "fingerprint": [
      "llm-hallucination",
      "{{ default }}"
    ],
    "tags": {
      "service": "llm-911-api",
      "runtime": "python3.11",
      "framework": "fastapi",
      "llm_provider": "anthropic",
      "incident_type": "hallucination",
      "region": "us-west-2"
    },
    "user": {
      "id": "cust_94822",
      "email": "oncall@example-customer.com",
      "ip_address": "192.0.2.11"
    },
    "request": {
      "url": "https://api.example.com/v1/llm/invoke",
      "method": "POST",
      "headers": {
        "host": "api.example.com",
        "content-type": "application/json",
        "x-request-id": "req-hallu-007"
      },
      "data": "{\"prompt\":\"Which Kubernetes cluster did incident INC-9876 impact?\",\"max_tokens\":256}",
      "query_string": ""
    },
    "exception": {
      "values": [
        {
          "type": "HallucinationDetectedError",
          "value": "LLM answer contradicts incident data (similarity=0.18, threshold=0.75)",
          "mechanism": {
            "type": "ai_guardrail",
            "handled": true
          },
          "stacktrace": {
            "frames": [
              {
                "filename": "llm_investigator.py",
                "function": "run_hallucination_checks",
                "lineno": 142,
                "in_app": true
              },
              {
                "filename": "llm_investigator.py",
                "function": "handle_llm_response",
                "lineno": 121,
                "in_app": true
              }
            ]
          }
        }
      ]
    },
    "breadcrumbs": {
      "values": [
        {
          "timestamp": "2025-11-14T05:15:46.801Z",
          "type": "info",
          "category": "llm",
          "message": "LLM response received",
          "data": {
            "latency_ms": 2100
          },
          "level": "info"
        },
        {
          "timestamp": "2025-11-14T05:15:47.102Z",
          "type": "info",
          "category": "guardrail",
          "message": "Running hallucination detector",
          "data": {
            "reference_doc_count": 3
          },
          "level": "info"
        }
      ]
    },
    "contexts": {
      "trace": {
        "trace_id": "c3219bfadf1140f29dbe4fcbc92f9c34",
        "span_id": "93f4a1b95bfa4beb",
        "op": "ai.guardrail",
        "status": "invalid_argument"
      },
      "runtime": {
        "name": "CPython",
        "version": "3.11.8"
      },
      "llm": {
        "provider": "anthropic",
        "model": "claude-3-5-sonnet",
        "temperature": 0.7,
        "max_tokens": 256
      }
    },
    "extra": {
      "hallucination_score": 0.92,
      "similarity_to_context": 0.18,
      "similarity_threshold": 0.75,
      "reference_doc_ids": [
        "inc-9876-rca",
        "inc-9876-timeline",
        "k8s-prod-clusters"
      ],
      "raw_answer": "Incident INC-9876 impacted the dev-sandbox cluster in eu-central-1."
    }
  }
]